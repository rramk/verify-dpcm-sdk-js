<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Privacy - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ConfigurationError.html">ConfigurationError</a></li><li><a href="module-Privacy-Privacy.html">Privacy</a><ul class='methods'><li data-type='method'><a href="module-Privacy-Privacy.html#assess">assess</a></li><li data-type='method'><a href="module-Privacy-Privacy.html#getConsentMetadata">getConsentMetadata</a></li><li data-type='method'><a href="module-Privacy-Privacy.html#getUserConsents">getUserConsents</a></li><li data-type='method'><a href="module-Privacy-Privacy.html#storeConsents">storeConsents</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-Privacy.html">Privacy</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">Privacy</h1>
    

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-Privacy.html">Privacy</a>~</span>
        
        Privacy
        </h2>
        
            <div class="class-description usertext"><p>Class representing the Privacy SDK for IBM Security Verify. Used to
perform privacy assessment for attributes being requested and metadata required to build consent
experiences.</p></div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Privacy"><span class="type-signature"></span>new Privacy<span class="signature">(config, auth, context)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="privacy.js.html">privacy.js</a>, <a href="privacy.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Shankar</li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Create a new <code>Privacy</code> object.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Global configuration for the SDK</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tenantUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The Verify tenant hostname, including the protocol.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Auth object contains property values to authorize requests to Verify</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>accessToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The OAuth 2.0 token used to authorize requests</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Context object contains Privacy SDK specific context</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subjectId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user/subject identifier that may be a
Verify user identifier.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isExternalSubject</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Indicates if the subject is known
to Verify.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ipAddress</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The IP address of the user agent. If this
library is used in a backend system, this IP should be obtained from the
request headers that contain the actual user agent IP address.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>



















        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="assess"><span class="type-signature">(async) </span>assess<span class="signature">(items)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="module-Privacy.html#~WrappedAssessment">module:Privacy~WrappedAssessment</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="privacy.js.html">privacy.js</a>, <a href="privacy.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Evaluate the attributes requested for approval.</p>
<p>Request the consent management system to approve the use of attributes
for the specified purpose, access type and an optional value. If the
access type is not specified, it is set to a system default.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The data items that require approval for use</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>purposeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The purpose ID representing the privacy
purpose configured on Verify. If you are checking for the consent status
of EULA, use the EULA identifier here.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accessTypeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The access type ID representing the
available access types on Verify. This must be one of the access types
selected for the purpose.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The attribute ID on Verify. This must be
configured as one of the attributes for the purpose. This may be optional if
no attributes are configured for the purpose.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The attribute value for the attribute.
This is typically used when the user has more than one value for the attribute.
This is optional.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The status of the assessment
and additional details</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="module-Privacy.html#~WrappedAssessment">module:Privacy~WrappedAssessment</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getConsentMetadata"><span class="type-signature">(async) </span>getConsentMetadata<span class="signature">(items)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="module-Privacy.html#~WrappedMetadata">module:Privacy~WrappedMetadata</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="privacy.js.html">privacy.js</a>, <a href="privacy.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Get consent metadata that can be used to build the consent page presented
to the data subject/user.</p>
<p>This includes exhaustive information of the purposes, attributes and access
types and any other pertinent information needed to present a complete
consent page. Details such as current consents are also listed along with
the current status of the consent.</p>
<p>If the metadata is retrieved successfully, the response status is
<code>approved</code>. If the request is invalid or results in an
overall failure, the response status is <code>error</code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The data items that require approval for use</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>purposeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The purpose ID representing the privacy
purpose configured on Verify. If you are checking for the consent status
of EULA, use the EULA identifier here.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accessTypeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The access type ID representing the
available access types on Verify. This must be one of the access types
selected for the purpose. If this is not provided in the input, it is
defaulted to 'default'. Wildcards are not allowed.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The attribute ID on Verify. This must be
configured as one of the attributes for the purpose. This may be optional if
no attributes are configured for the purpose. Wildcards are not allowed.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The status of the request
and any consent metadata</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="module-Privacy.html#~WrappedMetadata">module:Privacy~WrappedMetadata</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getUserConsents"><span class="type-signature">(async) </span>getUserConsents<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="privacy.js.html">privacy.js</a>, <a href="privacy.js.html#line262">line 262</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Fetches user consents.</p>
<p>If the access token used is not a user token, the <code>context.subjectId</code>
must be provided.</p>
<p>A 400 HTTP status code is returned for requests that are malformed or generally
invalid. A 200 HTTP status code indicates a <code>success</code> response.</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The HTTP response body for a
200 HTTP status code.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Object></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="storeConsents"><span class="type-signature">(async) </span>storeConsents<span class="signature">(consents)</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="privacy.js.html">privacy.js</a>, <a href="privacy.js.html#line231">line 231</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Store consents for the user.</p>
<p>Consents may only be created typically, except if the consent end time needs to
be updated. Only 10 consent operations are allowed at a time.</p>
<p>A 400 HTTP status code is returned for requests that are malformed or generally
invalid. A 200 HTTP status code indicates a <code>success</code> response. A
207 HTTP status code indicates a <code>partial failure</code> response and requires
the client to process the response.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>consents</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The consent records being added or updated</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The path of the consent resource. This is either
null, when a consent is being added, or <code>/{consentId}/endTime</code>, when
the end time of a consent is being updated.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>op</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The operation can be 'add' or 'replace'. 'replace' only
applies to updating the end time of an existing consent record.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>If the operation is 'replace', this is the epoch time
representing the end time, i.e. a long value. If the operation is 'add', this is an object.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>purposeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The purpose associated with the consent.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The attribute associated with the consent.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributeValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The attribute value associated with the consent.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accessTypeId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The access type associated with the consent.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>startTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">long</span>


            
            </td>

            

            

            <td class="description last"><p>The start time for the consent. Defaults to current time.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>endTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">long</span>


            
            </td>

            

            

            <td class="description last"><p>The end time for the consent. Defaults to null.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">ConsentType</span>


            
            </td>

            

            

            <td class="description last"><p>The type of consent.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isGlobal</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Indicates that the consent recorded is global for all
applications.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        <p>An error response is received.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The HTTP response body for a
200 or 207 HTTP status code.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Object></span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Mon May 31 2021 16:51:14 GMT+0800 (Singapore Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>